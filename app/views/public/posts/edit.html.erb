<h1>投稿編集</h1>
<%= form_with model: @post, url: post_path, method: :patch do |f| %>
  <table>
    <tr>
      <td>タイトル</td>
      <td><%= f.text_field :title %></td>
    </tr>
    <tr>
      <td>タグ(,で区切ると複数のタグを登録できます)</td>
      <td><%= f.text_field :name, value: @tag %></td>
    </tr>
    <tr>
      <td>説明</td>
      <td><%= f.text_area :introduction %></td>
    </tr>
    <tr>
      <td>画像選択</td>
      <td><%= f.file_field :images, multiple: true %></td>
    </tr>
    <tr>
      <div id="star">
        <%= f.label :rate, '満足度' %>
        <%= f.hidden_field :rate %>
      </div>
      
      <div id="rate_<%= @post.id %>"></div>
      <script>
      let raty_elem = document.querySelector('#rate_<%= @post.id %>');
      raty_elem.innerHTML = ""
      let option = {  
        starOn: "<%= asset_path('star-on.png') %>",
        starOff: "<%= asset_path('star-off.png') %>",
        starHalf: "<%= asset_path('star-half.png') %>",
        scoreName: '[rate]',
       };
      raty(raty_elem,option);
      </script>
    </tr>
  </table>
  <%= f.submit '編集を保存する' %>
<% end %>